/*! mjxgui 2024-03-17 | (C) Hrushikesh Vaidya (@hrushikeshrv) | MIT License */
class Expression{constructor(t=0){this.components=[],this.nestingDepth=t}add(t,a=this.components.length){this.components.splice(a,0,t)}remove(t=this.components.length-1){this.components.splice(t,1)}toLatex(){let t="";for(var a of this.components)t+=a.toLatex()+" ";return t.trim()}}class Block{constructor(t){this.children=[],this.parent=t}toLatex(){if(0===this.children.length)return"";let t="";for(var a of this.children)"string"==typeof a?t+=a:t+=a.toLatex()+" ";return t.trim()}addChild(t,a=this.children.length){this.children.splice(a,0,t)}removeChild(t=this.children.length-1){this.children.splice(t,1)}}class Component{constructor(t=[],a=null){this.blocks=t,this.parent=a}toLatex(){return""}addBlock(t,a){this.blocks.splice(a,0,t)}removeBlock(t){this.blocks.splice(t,1)}isEmpty(){for(var t of this.blocks)if(t.children.length)return!1;return!0}}class OneBlockComponent extends Component{constructor(t){let a=new Block;super([a],t),a.parent=this}}class TwoBlockComponent extends Component{constructor(t){let a=new Block,e=new Block;super([a,e],t),a.parent=this,e.parent=this}}class ThreeBlockComponent extends Component{constructor(t){let a=new Block,e=new Block,s=new Block;super([a,e,s],t),a.parent=this,e.parent=this,s.parent=this}}class TemplateThreeBlockComponent extends ThreeBlockComponent{constructor(t,a){super(t),this.latexData=a}toLatex(){return`\\${this.latexData}_{${this.blocks[0].toLatex()}}^{${this.blocks[1].toLatex()}}{${this.blocks[2].toLatex()}}`}}class TrigonometricTwoBlockComponent extends TwoBlockComponent{constructor(t,a){super(t),this.latexData=a}toLatex(){return`\\${this.latexData}^{${this.blocks[0].toLatex()}}{${this.blocks[1].toLatex()}}`}}class TextComponent extends Component{constructor(t){let a=new Block;super([a],t),a.parent=this}toLatex(){return this.blocks[0].toLatex()}}class MJXGUISymbol extends Component{constructor(t,a){super([],t),this.latexData=a}toLatex(){return this.latexData}}class FrameBox extends OneBlockComponent{toLatex(){return`\\boxed{${this.blocks[0].toLatex()}}`}}class Limit extends TwoBlockComponent{toLatex(){return`\\lim_{${this.blocks[0].toLatex()}}{${this.blocks[1].toLatex()}}`}}class Fraction extends TwoBlockComponent{toLatex(){return`\\frac{${this.blocks[0].toLatex()}}{${this.blocks[1].toLatex()}}`}}class Subscript extends TwoBlockComponent{toLatex(){return`{${this.blocks[0].toLatex()}}_{${this.blocks[1].toLatex()}}`}}class Superscript extends TwoBlockComponent{toLatex(){return`{${this.blocks[0].toLatex()}}^{${this.blocks[1].toLatex()}}`}}class SubSupRight extends ThreeBlockComponent{toLatex(){return`{${this.blocks[0].toLatex()}}_{${this.blocks[1].toLatex()}}^{${this.blocks[2].toLatex()}}`}}class Sqrt extends OneBlockComponent{toLatex(){return`\\sqrt{${this.blocks[0].toLatex()}}`}}class NthRoot extends TwoBlockComponent{toLatex(){return`\\sqrt[${this.blocks[0].toLatex()}]{${this.blocks[1].toLatex()}}`}}const characters=new Set;for(let t of"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@^*()[];:'\"/?.,<>-=+`~")characters.add(t);class Cursor{constructor(t,a){this.expression=t,this.block=null,this.component=null,this.child=-.5,this.position=-.5,this.latex="",this.display=a}addText(t){if(null===this.block){const a=new TextComponent(this.block);a.blocks[0].addChild(t),this.expression.add(a,Math.ceil(this.position)),this.child=-.5,this.position++}else{const e=new TextComponent(this.block);e.blocks[0].addChild(t),this.block.addChild(e,Math.ceil(this.child)),this.child++}}addComponent(t){null===this.block?(this.expression.add(t,Math.ceil(this.position)),this.position=Math.ceil(this.position),t instanceof MJXGUISymbol||t instanceof TextComponent?(this.block=null,this.component=null,this.position+=.5):(this.block=t.blocks[0],this.component=t),this.child=-.5):(this.block.addChild(t,Math.ceil(this.child)),t instanceof MJXGUISymbol||t instanceof TextComponent?this.child+=1:(this.component=t,this.block=t.blocks[0],this.child=-.5))}removeComponent(){if(null===this.block){var t=this.expression.components[Math.floor(this.position)];(t instanceof TextComponent||t instanceof MJXGUISymbol)&&(this.position=Math.floor(this.position),this.component=t,this.block=t.blocks[0],this.child=-.5,this.removeComponent())}else if(null===this.component.parent){for(let t=0;t<this.expression.components.length;t++)if(this.expression.components[t]===this.component){this.expression.remove(t);break}this.position-=.5,this.component=null,this.block=null,this.child=-.5}else{let a=this.component.parent;for(let t=0;t<a.children.length;t++)if(a.children[t]===this.component){a.removeChild(t),this.child=t-.5;break}this.block=a,this.component=a.parent}}keyPress(t){var a;characters.has(t.key)?this.addText(t.key):"ArrowLeft"===t.key?this.seekLeft():"ArrowRight"===t.key?this.seekRight():"Backspace"===t.key?this.backspace():"Enter"===t.key?document.getElementById("mjxgui_save_equation").click():" "===t.key?(a=new MJXGUISymbol(this.block,"\\:\\:"),this.addComponent(a)):"\\"===t.key?(a=new MJXGUISymbol(this.block,"\\backslash"),this.addComponent(a)):["$","#","%","&","_","{","}"].includes(t.key)&&(t=new MJXGUISymbol(this.block,`\\${t.key}`),this.addComponent(t)),this.updateDisplay()}seekRight(){var t,a=this.expression.components.length-.5;this.position>=a||(null===this.block?(this.position+=.5,this.expression.components[this.position]instanceof TextComponent||this.expression.components[this.position]instanceof MJXGUISymbol?(this.position+=.5,this.child=-.5,this.block=null,this.component=null):(this.component=this.expression.components[this.position],this.block=this.component.blocks[0],this.child=-.5)):this.child===this.block.children.length-.5?(t=this.component.blocks.indexOf(this.block))===this.component.blocks.length-1?null===this.component.parent?(this.component=null,this.block=null,this.child=-.5,this.position+=.5):(this.block=this.component.parent,this.child=this.block.children.indexOf(this.component)+.5,this.component=this.block.parent):(this.block=this.component.blocks[t+1],this.child=-.5):(t=this.block.children[Math.ceil(this.child)])instanceof TextComponent||t instanceof MJXGUISymbol?this.child++:(this.component=t,this.block=this.component.blocks[0],this.child=-.5))}seekLeft(){var t;this.position<=-.5||(null===this.block?(this.position-=.5,this.expression.components[this.position]instanceof TextComponent||this.expression.components[this.position]instanceof MJXGUISymbol?(this.position-=.5,this.child=-.5,this.block=null,this.component=null):(this.component=this.expression.components[this.position],this.block=this.component.blocks[this.component.blocks.length-1],this.child=this.block.children.length-.5)):-.5===this.child?0===(t=this.component.blocks.indexOf(this.block))?null===this.component.parent?(this.component=null,this.block=null,this.child=-.5,this.position-=.5):(this.block=this.component.parent,this.child=this.block.children.indexOf(this.component)-.5,this.component=this.block.parent):(this.block=this.component.blocks[t-1],this.child=this.block.children.length-.5):(t=this.block.children[Math.floor(this.child)])instanceof TextComponent||t instanceof MJXGUISymbol?this.child--:(this.component=t,this.block=this.component.blocks[this.component.blocks.length-1],this.child=this.block.children.length-.5))}backspace(){var t;0!==this.expression.components.length&&-.5!==this.position&&(null===this.block?(t=this.expression.components[Math.floor(this.position)])instanceof TextComponent||t instanceof MJXGUISymbol?this.removeComponent():(this.component=t,this.block=this.component.blocks[this.component.blocks.length-1],this.child=this.block.children.length-.5,this.position=Math.floor(this.position)):this.component.isEmpty()?this.removeComponent():this.child<=-.5?0!==(t=this.component.blocks.indexOf(this.block))&&(this.block=this.component.blocks[t-1],this.child=this.block.children.length-.5):(this.block.removeChild(Math.floor(this.child)),this.child--))}toLatex(){var t=this.expression.toLatex();return this.latex=t}toDisplayLatex(){let t=new TextComponent(this.block);t.blocks[0].addChild("|");let a=new FrameBox(this.block);null===this.block?this.expression.add(t,Math.ceil(this.position)):(e=this.component.blocks.indexOf(this.block),this.component.removeBlock(e),this.component.addBlock(a,e),a.blocks[0]=this.block,this.block.addChild(t,Math.ceil(this.child)));var e,s=this.toLatex();return null===this.block?this.expression.remove(Math.ceil(this.position)):(e=this.component.blocks.indexOf(a),this.component.removeBlock(e),this.component.addBlock(this.block,e),this.block.removeChild(Math.ceil(this.child))),s}updateDisplay(){(this.display instanceof String||"string"==typeof this.display)&&(this.display=document.querySelector(this.display)),MathJax.typesetClear([this.display]),this.display.innerHTML="$$"+this.toDisplayLatex()+"$$",MathJax.typesetPromise([this.display]).then(()=>{})}}const symbolLatexMap={alpha:"\\alpha",beta:"\\beta",gamma:"\\gamma",delta:"\\delta",epsilon:"\\epsilon",zeta:"\\zeta",eta:"\\eta",theta:"\\theta",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",mu:"\\mu",nu:"\\nu",xi:"\\xi",omicron:"\\omicron",pi:"\\pi",rho:"\\rho",sigma:"\\sigma",tau:"\\tau",upsilon:"\\upsilon",phi:"\\phi",chi:"\\chi",psi:"\\psi",omega:"\\omega",Alpha:"A",Beta:"B",Gamma:"\\Gamma",Delta:"\\Delta",Epsilon:"E",Zeta:"Z",Eta:"H",Theta:"\\Theta",Iota:"I",Kappa:"K",Lambda:"\\Lambda",Mu:"M",Nu:"N",Xi:"\\Xi",Omicron:"O",Pi:"\\Pi",Rho:"P",Sigma:"\\Sigma",Tau:"T",Upsilon:"\\Upsilon",Phi:"\\Phi",Chi:"X",Psi:"\\Psi",Omega:"\\Omega",times:"\\times",div:"\\div",centerdot:"\\cdot",plusmn:"\\pm",mnplus:"\\mp",starf:"\\star",bigcup:"\\bigcup",bigcap:"\\bigcap",cup:"\\cup",cap:"\\cap",lt:"\\lt",gt:"\\gt",leq:"\\leq",GreaterEqual:"\\geq",equals:"=",approx:"\\approx",NotEqual:"\\ne",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",nsub:"\\not\\subset",nsup:"\\not\\supset",nsube:"\\not\\subseteq",nsupe:"\\not\\supseteq",propto:"\\propto",parallel:"\\parallel",npar:"\\nparallel",asympeq:"\\asymp",isin:"\\in",notin:"\\notin",exist:"\\exists",nexist:"\\nexists",perp:"\\perp",angle:"\\angle",angmsd:"\\measuredangle",Leftarrow:"\\Leftarrow",Rightarrow:"\\Rightarrow",Leftrightarrow:"\\Leftrightarrow",rightarrow:"\\to",leftarrow:"\\gets",leftrightarrow:"\\leftrightarrow",longrightarrow:"\\longrightarrow",longleftarrow:"\\longleftarrow",longleftrightarrow:"\\longleftrightarrow",uparrow:"\\uparrow",downarrow:"\\downarrow",updownarrow:"\\updownarrow",PartialD:"\\partial",hbar:"\\hbar",real:"\\Re",nabla:"\\nabla",infin:"\\infty"},functionComponentMap={lim:Limit,sqrt:Sqrt,nsqrt:NthRoot,sub:Subscript,sup:Superscript,subsup:SubSupRight,frac:Fraction};class MJXGUI{constructor(t,a=function(t,a){},e={}){this.selector=t,this.elements=document.querySelectorAll(t),this.options=e,this.mathDelimiter=this.options.mathDelimiter||"$$",this.successCallback=a,this.eqnHistory=[],this.expression=new Expression,this.isMobileDevice="ontouchstart"in document.documentElement,this.pseudoMobileKeyboard=null,this.showUI=()=>{this.editorWindow.style.display="block",this.editorWindow.dataset.visible="true"},this.hideUI=()=>{this.editorWindow.removeAttribute("style"),this.editorWindow.dataset.visible="false"},(this.elements instanceof String||"string"==typeof this.elements)&&(this.elements=document.querySelectorAll(this.elements)),this.constructUI(),this.cursor=new Cursor(this.expression,this.eqnDisplay),this.elements.forEach(t=>{t.addEventListener("click",this.showUI)}),document.addEventListener("keydown",t=>{"false"!==this.editorWindow.dataset.visible&&(MathJax.typesetClear([this.eqnDisplay]),this.cursor.keyPress(t),this.eqnDisplay.innerHTML=this.mathDelimiter+this.cursor.toDisplayLatex()+this.mathDelimiter,MathJax.typesetPromise([this.eqnDisplay]).then(()=>{}))});const s=this.editorWindow.querySelectorAll(".mjxgui-operator, .mjxgui-greek-letter"),i=this.editorWindow.querySelectorAll(".mjxgui-function");s.forEach(a=>{a.addEventListener("click",()=>{var t;a.dataset.latexData in symbolLatexMap&&(t=new MJXGUISymbol(this.cursor.block,symbolLatexMap[a.dataset.latexData]),this.cursor.addComponent(t),this.cursor.updateDisplay())})}),i.forEach(a=>{a.addEventListener("click",()=>{let t;"null"!==a.dataset.templateType?"three"===a.dataset.templateType?t=new TemplateThreeBlockComponent(this.cursor.block,a.dataset.latexData):"trigonometric"===a.dataset.templateType&&(t=new TrigonometricTwoBlockComponent(this.cursor.block,a.dataset.latexData)):t=new functionComponentMap[a.dataset.functionId](this.cursor.block),this.cursor.addComponent(t),this.cursor.updateDisplay()})})}constructUI(){const t=document.createElement("div");t.classList.add("_mjxgui_editor_window"),t.dataset.visible="false",t.innerHTML='<div class="mjxgui_editor_controls"><div style="cursor: pointer;"><svg xmlns="http://www.w3.org/2000/svg" class="mjxgui_close_button_svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></div><div class="mjxgui_clear_save_buttons"><span class="mjxgui_button_container _mjxgui_clear_equation"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="7" x2="20" y2="7"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"/><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"/></svg> </span><span class="mjxgui_button_container _mjxgui_save_equation"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-check" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12l5 5l10 -10"/></svg></span></div></div><div class="_mjxgui_tab_container_container"><div class="mjxgui_tab_container" data-tab="1">&alpha; Letters</div><div class="mjxgui_tab_container" data-tab="2">&plusmn; Symbols</div><div class="mjxgui_tab_container" data-tab="3">&Sigma; Functions</div></div><div class="mjxgui_tab _mjxgui_letters_tab" style="display: flex;" data-tab="1"><span class="mjxgui-btn mjxgui-greek-letter" title="Alpha" data-latex-data="Alpha">&Alpha;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Beta" data-latex-data="Beta">&Beta;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Gamma" data-latex-data="Gamma">&Gamma;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Delta" data-latex-data="Delta">&Delta;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Epsilon" data-latex-data="Epsilon">&Epsilon;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Zeta" data-latex-data="Zeta">&Zeta;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Eta" data-latex-data="Eta">&Eta;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Theta" data-latex-data="Theta">&Theta;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Iota" data-latex-data="Iota">&Iota;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Kappa" data-latex-data="Kappa">&Kappa;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Lambda" data-latex-data="Lambda">&Lambda;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Mu" data-latex-data="Mu">&Mu;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Nu" data-latex-data="Nu">&Nu;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Xi" data-latex-data="Xi">&Xi;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Omicron" data-latex-data="Omicron">&Omicron;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Pi" data-latex-data="Pi">&Pi;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Rho" data-latex-data="Rho">&Rho;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Sigma" data-latex-data="Sigma">&Sigma;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Tau" data-latex-data="Tau">&Tau;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Upsilon" data-latex-data="Upsilon">&Upsilon;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Phi" data-latex-data="Phi">&Phi;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Chi" data-latex-data="Chi">&Chi;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Psi" data-latex-data="Psi">&Psi;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="Omega" data-latex-data="Omega">&Omega;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="alpha" data-latex-data="alpha">&alpha;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="beta" data-latex-data="beta">&beta;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="gamma" data-latex-data="gamma">&gamma;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="delta" data-latex-data="delta">&delta;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="epsilon" data-latex-data="epsilon">&epsilon;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="zeta" data-latex-data="zeta">&zeta;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="eta" data-latex-data="eta">&eta;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="theta" data-latex-data="theta">&theta;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="iota" data-latex-data="iota">&iota;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="kappa" data-latex-data="kappa">&kappa;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="lambda" data-latex-data="lambda">&lambda;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="mu" data-latex-data="mu">&mu;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="nu" data-latex-data="nu">&nu;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="xi" data-latex-data="xi">&xi;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="omicron" data-latex-data="omicron">&omicron;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="pi" data-latex-data="pi">&pi;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="rho" data-latex-data="rho">&rho;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="sigma" data-latex-data="sigma">&sigma;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="tau" data-latex-data="tau">&tau;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="upsilon" data-latex-data="upsilon">&upsilon;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="phi" data-latex-data="phi">&phi;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="chi" data-latex-data="chi">&chi;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="psi" data-latex-data="psi">&psi;</span> <span class="mjxgui-btn mjxgui-greek-letter" title="omega" data-latex-data="omega">&omega;</span></div><div class="mjxgui_tab _mjxgui_symbols_tab" data-tab="2"><span class="mjxgui-btn mjxgui-operator" title="Times" data-latex-data="times">&times;</span> <span class="mjxgui-btn mjxgui-operator" title="Divide" data-latex-data="div">&div;</span> <span class="mjxgui-btn mjxgui-operator" title="Center dot" data-latex-data="centerdot">&centerdot;</span> <span class="mjxgui-btn mjxgui-operator" title="Plus-minus" data-latex-data="plusmn">&plusmn;</span> <span class="mjxgui-btn mjxgui-operator" title="Less than" data-latex-data="lt">&lt;</span> <span class="mjxgui-btn mjxgui-operator" title="Greater than" data-latex-data="gt">&gt;</span> <span class="mjxgui-btn mjxgui-operator" title="Less than or equal to" data-latex-data="leq">&leq;</span> <span class="mjxgui-btn mjxgui-operator" title="Greater than or equal to" data-latex-data="GreaterEqual">&GreaterEqual;</span> <span class="mjxgui-btn mjxgui-operator" title="Equals" data-latex-data="equals">&equals;</span> <span class="mjxgui-btn mjxgui-operator" title="Approximate" data-latex-data="approx">&approx;</span> <span class="mjxgui-btn mjxgui-operator" title="Not equal" data-latex-data="NotEqual">&NotEqual;</span> <span class="mjxgui-btn mjxgui-operator" title="Minus-plus" data-latex-data="mnplus">&mnplus;</span> <span class="mjxgui-btn mjxgui-operator" title="Star" data-latex-data="starf">&starf;</span> <span class="mjxgui-btn mjxgui-operator" title="Big cup" data-latex-data="bigcup">&bigcup;</span> <span class="mjxgui-btn mjxgui-operator" title="Big cap" data-latex-data="bigcap">&bigcap;</span> <span class="mjxgui-btn mjxgui-operator" title="Cup" data-latex-data="cup">&cup;</span> <span class="mjxgui-btn mjxgui-operator" title="Cap" data-latex-data="cap">&cap;</span> <span class="mjxgui-btn mjxgui-operator" title="Subset of" data-latex-data="sub">&sub;</span> <span class="mjxgui-btn mjxgui-operator" title="Superset of" data-latex-data="sup">&sup;</span> <span class="mjxgui-btn mjxgui-operator" title="Subset of or equal to" data-latex-data="sube">&sube;</span> <span class="mjxgui-btn mjxgui-operator" title="Superset of or equal to" data-latex-data="supe">&supe;</span> <span class="mjxgui-btn mjxgui-operator" title="Not a subset of" data-latex-data="nsub">&nsub;</span> <span class="mjxgui-btn mjxgui-operator" title="Not a superset of" data-latex-data="nsup">&nsup;</span> <span class="mjxgui-btn mjxgui-operator" title="Not a subset of or equal to" data-latex-data="nsube">&nsube;</span> <span class="mjxgui-btn mjxgui-operator" title="Not a superset of or equal to" data-latex-data="nsupe">&nsupe;</span> <span class="mjxgui-btn mjxgui-operator" title="Proportional to" data-latex-data="propto">&propto;</span> <span class="mjxgui-btn mjxgui-operator" title="Parallel to" data-latex-data="parallel">&parallel;</span> <span class="mjxgui-btn mjxgui-operator" title="Not parallel to" data-latex-data="npar">&npar;</span> <span class="mjxgui-btn mjxgui-operator" title="Approximately equal to" data-latex-data="asympeq">&asympeq;</span> <span class="mjxgui-btn mjxgui-operator" title="Element of" data-latex-data="isin">&isin;</span> <span class="mjxgui-btn mjxgui-operator" title="Not an element of" data-latex-data="notin">&notin;</span> <span class="mjxgui-btn mjxgui-operator" title="There exists" data-latex-data="exist">&exist;</span> <span class="mjxgui-btn mjxgui-operator" title="There does not exists" data-latex-data="nexist">&nexist;</span> <span class="mjxgui-btn mjxgui-operator" title="Perpendicular to" data-latex-data="perp">&perp;</span> <span class="mjxgui-btn mjxgui-operator" title="Implies (left)" data-latex-data="Leftarrow">&Leftarrow;</span> <span class="mjxgui-btn mjxgui-operator" title="Implies (right)" data-latex-data="Rightarrow">&Rightarrow;</span> <span class="mjxgui-btn mjxgui-operator" title="If and only if (iff)" data-latex-data="Leftrightarrow">&Leftrightarrow;</span> <span class="mjxgui-btn mjxgui-operator" title="Angle" data-latex-data="angle">&angle;</span> <span class="mjxgui-btn mjxgui-operator" title="Measured angle" data-latex-data="angmsd">&angmsd;</span> <span class="mjxgui-btn mjxgui-operator" title="Right arrow" data-latex-data="rightarrow">&rightarrow;</span> <span class="mjxgui-btn mjxgui-operator" title="Left arrow" data-latex-data="leftarrow">&leftarrow;</span> <span class="mjxgui-btn mjxgui-operator" title="Left right arrow" data-latex-data="leftrightarrow">&leftrightarrow;</span> <span class="mjxgui-btn mjxgui-operator" title="Long right arrow" data-latex-data="longrightarrow">&longrightarrow;</span> <span class="mjxgui-btn mjxgui-operator" title="Long left arrow" data-latex-data="longleftarrow">&longleftarrow;</span> <span class="mjxgui-btn mjxgui-operator" title="Long left right arrow" data-latex-data="longleftrightarrow">&longleftrightarrow;</span> <span class="mjxgui-btn mjxgui-operator" title="Up arrow" data-latex-data="uparrow">&uparrow;</span> <span class="mjxgui-btn mjxgui-operator" title="Down arrow" data-latex-data="downarrow">&downarrow;</span> <span class="mjxgui-btn mjxgui-operator" title="Up down arrow" data-latex-data="updownarrow">&updownarrow;</span> <span class="mjxgui-btn mjxgui-operator" title="Partial derivative" data-latex-data="PartialD">&PartialD;</span> <span class="mjxgui-btn mjxgui-operator" title="Reduced plank constant (h-bar)" data-latex-data="hbar">&hbar;</span> <span class="mjxgui-btn mjxgui-operator" title="Real part symbol" data-latex-data="real">&real;</span> <span class="mjxgui-btn mjxgui-operator" title="Nabla, del operator" data-latex-data="nabla">&nabla;</span> <span class="mjxgui-btn mjxgui-operator" title="Infinity symbol" data-latex-data="infin">&infin;</span></div><div class="mjxgui_tab _mjxgui_functions_tab" data-tab="3"><span class="mjxgui-btn mjxgui-function" title="Summation" data-template-type="three" data-latex-data="sum">&Sigma;</span> <span class="mjxgui-btn mjxgui-function" title="Integral" data-template-type="three" data-latex-data="int">&int;</span> <span class="mjxgui-btn mjxgui-function" title="Double integral" data-template-type="three" data-latex-data="iint">&#8748</span> <span class="mjxgui-btn mjxgui-function" title="Triple integral" data-template-type="three" data-latex-data="iiint">&iiint;</span> <span class="mjxgui-btn mjxgui-function" title="Contour integral" data-template-type="three" data-latex-data="oint">&oint;</span> <span class="mjxgui-btn mjxgui-function" title="Product" data-template-type="three" data-latex-data="prod">&Pi;</span> <span class="mjxgui-btn mjxgui-function" title="Co product" data-template-type="three" data-latex-data="coprod">&coprod;</span> <span class="mjxgui-btn mjxgui-function" title="Big cup (union)" data-template-type="three" data-latex-data="bigcup">&bigcup;</span> <span class="mjxgui-btn mjxgui-function" title="Big cap (intersection)" data-template-type="three" data-latex-data="bigcap">&bigcap;</span> <span class="mjxgui-btn mjxgui-function" title="Big vee (logical OR)" data-template-type="three" data-latex-data="bigvee">&bigvee;</span> <span class="mjxgui-btn mjxgui-function" title="Big wedge (logical AND)" data-template-type="three" data-latex-data="bigwedge">&bigwedge;</span> <span class="mjxgui-btn mjxgui-function" title="Limit" data-template-type="null" data-function-id="lim"><svg viewBox="0 0 567 567"><text fill="var(--default-font-color)" font-family="Cambria" font-size="500" font-weight="500" text-anchor="middle" transform="matrix(.75 0 0 .75 279.5 326.267)"><tspan x="0">lim</tspan></text></svg></span><span class="mjxgui-btn mjxgui-function" title="Square root" data-template-type="null" data-function-id="sqrt"><svg viewBox="0 0 567 567"><defs><style>.cls-1,.cls-2{fill-rule:evenodd}.cls-1{stroke-width:4.667px}.cls-2{stroke-width:7.417px}</style></defs><path id="Line_1" d="M3.707 306.883l-1.73-2.643 41.9-27.427 1.73 2.642z" class="cls-1" data-name="Line 1"/><path id="Line_2" d="M47.233 275.65l1.831-1.045 80.1 140.4-1.831 1.044z" class="cls-1" data-name="Line 2"/><path id="Line_3" d="M129.569 410.274l-3.113-1.374 111.707-252.923 3.113 1.375z" class="cls-2" data-name="Line 3"/><path id="Line_4" d="M241.471 154.67v-1.746h322.563v1.746H241.471z" class="cls-2" data-name="Line 4"/><path fill="none" fill-rule="evenodd" stroke-width="10.125" d="M288.978 190.824H495.53v206.552H288.978V190.824z"/></svg></span><span class="mjxgui-btn mjxgui-function" title="Nth root" data-template-type="null" data-function-id="nsqrt"><svg viewBox="0 0 567 567"><defs><style>.cls-1,.cls-2,.cls-3{fill-rule:evenodd}.cls-1{stroke-width:4.667px}.cls-2{stroke-width:7.417px}.cls-3{fill:none;stroke-width:10.125px}</style></defs><path id="Line_1" d="M3.707 306.883l-1.73-2.643 41.9-27.427 1.73 2.642z" class="cls-1" data-name="Line 1"/><path id="Line_2" d="M47.233 275.65l1.831-1.045 80.1 140.4-1.831 1.044z" class="cls-1" data-name="Line 2"/><path id="Line_3" d="M129.569 410.274l-3.113-1.374 111.707-252.923 3.113 1.375z" class="cls-2" data-name="Line 3"/><path id="Line_4" d="M241.471 154.67v-1.746h322.563v1.746H241.471z" class="cls-2" data-name="Line 4"/><path d="M288.978 190.824H495.53v206.552H288.978V190.824z" class="cls-3"/><path id="Rectangle_1_copy" d="M69.42 178.744h90.512v90.512H69.42v-90.512z" class="cls-3" data-name="Rectangle 1 copy"/></svg></span><span class="mjxgui-btn mjxgui-function" title="Subscript" data-template-type="null" data-function-id="sub"><svg viewBox="0 0 567 567"><defs><style>.cls-1{fill:none;stroke-width:12.875px;fill-rule:evenodd}</style></defs><path d="M27.09 82.836h285.083v285.083H27.09V82.836z" class="cls-1"/><path id="Rectangle_1_copy" d="M362.8 295.421h169.985V465.41H362.8V295.421z" class="cls-1" data-name="Rectangle 1 copy"/></svg></span><span class="mjxgui-btn mjxgui-function" title="Superscript" data-template-type="null" data-function-id="sup"><svg viewBox="0 0 567 567"><defs><style>.cls-1{fill:none;stroke-width:12.875px;fill-rule:evenodd}</style></defs><path d="M27.09 468.164h285.083V183.081H27.09v285.083z" class="cls-1"/><path id="Rectangle_1_copy" d="M362.8 255.579h169.985V85.59H362.8v169.989z" class="cls-1" data-name="Rectangle 1 copy"/></svg></span><span class="mjxgui-btn mjxgui-function" title="Subscript and Superscript" data-template-type="null" data-function-id="subsup"><svg viewBox="0 0 567 567"><defs><style>.cls-1{fill:none;stroke-width:12.875px;fill-rule:evenodd}</style></defs><path d="M34.7 413.554h267.862V145.693H34.7v267.861z" class="cls-1"/><path id="Rectangle_1_copy" d="M362.8 243.579h169.985V73.59H362.8v169.989z" class="cls-1" data-name="Rectangle 1 copy"/><path id="Rectangle_1_copy_2" d="M533.2 487.579H363.215V317.59H533.2v169.989z" class="cls-1" data-name="Rectangle 1 copy 2"/></svg></span><span class="mjxgui-btn mjxgui-function" title="Fraction" data-template-type="null" data-function-id="frac"><svg viewBox="0 0 567 567"><defs><style>.cls-1{fill:none;fill-rule:evenodd;stroke-width:12.875px}</style></defs><path id="Rectangle_1_copy" d="M193.8 225.579h169.985V55.59H193.8v169.989z" class="cls-1" data-name="Rectangle 1 copy"/><path id="Line_1" fill="none" fill-rule="evenodd" stroke="#000" stroke-width="10.125" d="M124 284v-1h295v1H124z" data-name="Line 1"/><path id="Rectangle_1_copy_2" d="M364.2 528.579H194.215V358.59H364.2v169.989z" class="cls-1" data-name="Rectangle 1 copy 2"/></svg></span><span class="mjxgui-btn mjxgui-function" title="Sine" data-template-type="trigonometric" data-latex-data="sin"><svg viewBox="0 0 567 567"><text fill="var(--default-font-color)" font-family="Cambria" font-size="310.5" text-anchor="middle" transform="translate(286.022 367.216) scale(1.235)"><tspan x="0">sin</tspan></text></svg></span><span class="mjxgui-btn mjxgui-function" title="Cosine" data-template-type="trigonometric" data-latex-data="cos"><svg viewBox="0 0 567 567"><text fill="var(--default-font-color)" font-family="Cambria" font-size="310.5" text-anchor="middle" transform="translate(286.022 367.216) scale(1.235)"><tspan x="0">cos</tspan></text></svg></span><span class="mjxgui-btn mjxgui-function" title="Tangent" data-template-type="trigonometric" data-latex-data="tan"><svg viewBox="0 0 567 567"><text fill="var(--default-font-color)" font-family="Cambria" font-size="310.5" text-anchor="middle" transform="translate(286.022 367.216) scale(1.235)"><tspan x="0">tan</tspan></text></svg></span><span class="mjxgui-btn mjxgui-function" title="Cosecant" data-template-type="trigonometric" data-latex-data="csc"><svg viewBox="0 0 567 567"><text fill="var(--default-font-color)" font-family="Cambria" font-size="310.5" text-anchor="middle" transform="translate(286.022 367.216) scale(1.235)"><tspan x="0">csc</tspan></text></svg></span><span class="mjxgui-btn mjxgui-function" title="Secant" data-template-type="trigonometric" data-latex-data="sec"><svg viewBox="0 0 567 567"><text fill="var(--default-font-color)" font-family="Cambria" font-size="310.5" text-anchor="middle" transform="translate(286.022 367.216) scale(1.235)"><tspan x="0">sec</tspan></text></svg></span><span class="mjxgui-btn mjxgui-function" title="Cotangent" data-template-type="trigonometric" data-latex-data="cot"><svg viewBox="0 0 567 567"><text fill="var(--default-font-color)" font-family="Cambria" font-size="310.5" text-anchor="middle" transform="translate(286.022 367.216) scale(1.235)"><tspan x="0">cot</tspan></text></svg></span><span class="mjxgui-btn mjxgui-function" title="Inverse sine" data-template-type="trigonometric" data-latex-data="arcsin"><svg width="45" height="20" viewBox="0 0 2000 567"><text fill="var(--default-font-color)" font-family="Cambria" font-size="500" text-anchor="middle" transform="matrix(1.5 0 0 1.5 973.5 496)"><tspan x="0">arcsin</tspan></text></svg></span><span class="mjxgui-btn mjxgui-function" title="Inverse cosine" data-template-type="trigonometric" data-latex-data="arccos"><svg width="45" height="20" viewBox="0 0 2000 567"><text fill="var(--default-font-color)" font-family="Cambria" font-size="500" text-anchor="middle" transform="matrix(1.5 0 0 1.5 973.5 496)"><tspan x="0">arccos</tspan></text></svg></span><span class="mjxgui-btn mjxgui-function" title="Inverse tanget" data-template-type="trigonometric" data-latex-data="arctan"><svg width="45" height="20" viewBox="0 0 2000 567"><text fill="var(--default-font-color)" font-family="Cambria" font-size="500" text-anchor="middle" transform="matrix(1.5 0 0 1.5 973.5 496)"><tspan x="0">arctan</tspan></text></svg></span></div><div style="text-align: center;"><button class="_mjxgui_dir_btn leftArrowButton" style="cursor:pointer;"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-left" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12l14 0"/><path d="M5 12l6 6"/><path d="M5 12l6 -6"/></svg></button> <button class="_mjxgui_dir_btn rightArrowButton" style="cursor:pointer;"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-right" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12l14 0"/><path d="M13 18l6 -6"/><path d="M13 6l6 6"/></svg></button></div><div class="_mjxgui_editor_display"></div>',"dark"===this.options.theme?.toLowerCase().trim()&&t.classList.add("_mjxgui_dark_theme"),this.editorWindow=t,this.eqnDisplay=t.querySelector("._mjxgui_editor_display"),this.eqnDisplay.innerHTML=`${this.mathDelimiter} | ${this.mathDelimiter}`,this.pseudoMobileKeyboard=t.querySelector(".mjxgui-pseudo-mobile-keyboard");const a=t.querySelectorAll(".mjxgui_tab_container"),e=t.querySelectorAll(".mjxgui_tab"),s=t.querySelector(".leftArrowButton"),i=t.querySelector(".rightArrowButton");s.addEventListener("click",()=>{this.cursor.seekLeft(),this.cursor.updateDisplay()}),i.addEventListener("click",()=>{this.cursor.seekRight(),this.cursor.updateDisplay()}),a.forEach(a=>{a.addEventListener("click",function(){e.forEach(t=>{t.dataset.tab===a.dataset.tab?t.style.display="flex":t.removeAttribute("style")})})}),a[0].classList.add("_mjxgui_active_tab"),a.forEach(t=>{t.addEventListener("click",()=>{a.forEach(t=>{t.classList.remove("_mjxgui_active_tab")}),t.classList.add("_mjxgui_active_tab")})});const n=t.querySelector(".mjxgui_close_button_svg");n.addEventListener("click",this.hideUI);const o=t.querySelector("._mjxgui_clear_equation");o.addEventListener("click",()=>{this.clearEquation()});const l=t.querySelector("._mjxgui_save_equation");l.addEventListener("click",()=>{this.successCallback(this.getLatex(),this),this.hideUI(),this.clearEquation()}),document.body.appendChild(t)}clearEquation(){this.eqnHistory.push(this.expression),this.expression=new Expression,this.cursor.expression=this.expression,this.cursor.block=null,this.cursor.component=null,this.cursor.child=-.5,this.cursor.position=-.5,this.cursor.latex="",this.cursor.updateDisplay()}getLatex(){return this.cursor.toLatex()}rebindListeners(){this.elements.forEach(t=>{t.removeEventListener("click",this.showUI)}),this.elements=document.querySelectorAll(this.selector),this.elements.forEach(t=>{t.addEventListener("click",this.showUI)})}registerFunction(t,a,e="",s=!1){const i=document.createElement("span");i.classList.add("mjxgui-btn","mjxgui-function"),i.title=e,i.dataset.templateType="user-defined",i.dataset.functionId="user-defined",i.innerHTML=a,this.editorWindow.querySelector("._mjxgui_functions_tab").appendChild(i),s&&MathJax.typesetPromise([i]).then(()=>{}),i.addEventListener("click",()=>{this.cursor.addComponent(new t),this.cursor.updateDisplay()})}registerSymbol(a,t,e="",s=!1){const i=document.createElement("span");i.classList.add("mjxgui-btn","mjxgui-symbol"),i.title=e,i.dataset.latexData=a,i.innerHTML=t,this.editorWindow.querySelector("._mjxgui_symbols_tab").appendChild(i),s&&MathJax.typesetPromise([i]).then(()=>{}),i.addEventListener("click",()=>{var t=new MJXGUISymbol(this.cursor.block,a);this.cursor.addComponent(t),this.cursor.updateDisplay()})}static createEquationInput(t,a={}){var s=document.querySelectorAll(t);for(let t=0;t<s.length;t++){let e=s[t];e.style.display="none",e.value="";const i=document.createElement("div");i.classList.add("_mjxgui_equation_input_wrapper"),i.innerHTML='<div class="_mjxgui_equation_input"><button type="button" class="_mjxgui_insert_equation_button">Add Equation</button><div class="_mjxgui_equation_input_preview"></div></div>',e.insertAdjacentElement("afterend",i);const n=i.querySelector("._mjxgui_equation_input"),o=i.querySelector("._mjxgui_insert_equation_button"),l=i.querySelector("._mjxgui_equation_input_preview");o.id=`_mjxgui_insert_equation_button_${t}`;const r=new MJXGUI(`#_mjxgui_insert_equation_button_${t}`,function(){},a);r.successCallback=function(t,a){0<t.length?(e.value=t,MathJax.typesetClear([l]),l.innerHTML=`$ ${t} $`,MathJax.typesetPromise([l]).then(()=>{}),o.textContent="Edit"):(e.value="",MathJax.typesetClear([l]),l.innerHTML="",o.textContent="Add Equation"),e.validity.valid?(n.classList.remove("_mjxgui_equation_input_invalid"),n.classList.add("_mjxgui_equation_input_valid")):(n.classList.add("_mjxgui_equation_input_invalid"),n.classList.remove("_mjxgui_equation_input_valid"))}}}}